(function(){var e,t,n,r,d,o,l,c,i,u,m,a,s,g,y,E,f,I,B,p,v,_;String.prototype.lines=function(){return this.split(/\r*\n/)},String.prototype.lineCount=function(){return this.lines().length},B=function(e){var t,n,r,d;"string"!=typeof e&&(e=document.getElementById("editor").value),t=document.getElementById("inputlength"),r=e,JSON.parse(localStorage.ignoreNewline)&&(r=r.replace(/\r?\n/g,"")),d=document.createTextNode(r.length),t.replaceChild(d,t.lastChild),n=parseInt(document.getElementById("maxinput").value),_(r),r.length>n?t.style.color="red":t.style.color="white"},c=function(){var e;e=document.getElementById("editor").value,B(e)},_=function(e){var t,n,r;if((t=e.lineCount())!==r)return r=t,n=document.getElementById("linenav"),n.innerText="Line count: "+t},I=function(){var e,t,n,r,d;return r=document.getElementById("editor").value,e=new Blob([r],{type:"text/plain"}),d=window.URL.createObjectURL(e),n=document.createElement("a"),t=document.getElementById("save_name"),t=t.innerText.replace("\n","").replace(/\s+$/g,""),null==t&&(t="textfile.txt"),n.download=t,n.href=d,n.click()},s=function(){var e,t;if(document.getElementById("read_button").style.display="none",document.getElementById("clear_button").style.display="inline",e=document.getElementById("read_file").files[0])return document.getElementById("save_name").innerText=e.name,t=new FileReader,t.onload=function(e){var t;return t=e.target.result,document.getElementById("editor").value=t,B(t)},t.readAsText(e,"UTF-8")},n=function(){return document.getElementById("clear_button").style.display="none",document.getElementById("read_button").style.display="inline",document.getElementById("read_file").value="",document.getElementById("editor").value="",B("")},u=function(){return document.getElementById("read_file").click()},g=function(e){if(13===e.keyCode)return e.preventDefault()},y=function(){var e,t,n;try{return n=document.getElementById("editor").value,t=JSON.parse(n),document.getElementById("editor").select(),n.includes("\n")?document.execCommand("insertText",!1,JSON.stringify(t)):document.execCommand("insertText",!1,JSON.stringify(t,null,2))}catch(t){return e=t,console.log(e)}},v=function(){var e,t,n;try{return n=document.getElementById("editor").value,t=Array.from(new Set(n.split("\n"))),document.getElementById("editor").select(),document.execCommand("insertText",!1,t.join("\n"))}catch(t){return e=t,console.log(e)}},p=function(){var e;try{return document.getElementById("editor").select(),document.execCommand("insertText",!1,document.getElementById("editor").value.split("\n").filter(function(e){return function(e){return e.length>0}}()).sort().join("\n").replace(/^\n/g,""))}catch(t){return e=t,console.log(e)}},e=function(e){return"inline"===document.getElementById(e).style.display?document.getElementById(e).style.display="none":(Array.from(document.querySelectorAll(".btmf")).forEach(function(e){return e.style.display="none"}),document.getElementById(e).style.display="inline")},o=function(){return e("btmfl")},E=function(){var e,t,n,r,d;try{return t=document.getElementById("regex_pattern").innerText,d=document.getElementById("replacing_text").innerText,r=t.match(/\/(.*)\/(.*)/),n=r?new RegExp(r[1],r[2]):new RegExp(t),document.getElementById("editor").select(),document.execCommand("insertText",!1,document.getElementById("editor").value.replace(new RegExp(n),d))}catch(t){return e=t,console.log(e)}},f=function(){var e,t;try{return t=document.body.clientHeight-124,document.getElementById("text-container").style.height=t+"px",document.getElementById("editor").style.height=t+"px"}catch(t){return e=t,console.log(e)}},t=function(){return JSON.parse(localStorage.ignoreNewline)?(document.getElementById("ignore_newline").style.backgroundColor="#13bb8e",document.getElementById("ignore_newline").style.color="#dffff1"):(document.getElementById("ignore_newline").style.backgroundColor="#000000",document.getElementById("ignore_newline").style.color="#7eeea8")},d=function(){return localStorage.ignoreNewline=!JSON.parse(localStorage.ignoreNewline),t(),B()},r=function(){if(window.confirm("データを削除しますか？"))return document.getElementById("editor").select(),document.execCommand("insertText",!1,"")},l=function(){return e("btmf2")},i=function(e,t,n){var r,d,o,l,c,i,u,m,a,s,g;for(g=document.getElementById("editor").value,a=g.split("\n"),a||(a=[]),(isNaN(e)||e<0)&&(e=0),(isNaN(t)||t>a.length)&&(t=a.length),m=[],l=r=0,c=a.length;r<c;l=++r)s=a[l],l<e||l>t?m.push(s):(i=/[-0-9][0-9]*/.exec(s),i?(d=i.index,u=parseInt(i[0],10),isNaN(u)?m.push(s):(u=n(u),o=s.slice(0,d)+s.slice(d+i[0].length),o=o.slice(0,d)+u+o.slice(d),m.push(o))):m.push(s));return document.getElementById("editor").select(),document.execCommand("insertText",!1,m.join("\n"))},a=function(){var e,t;return t=parseInt(document.getElementById("first_increment_decrement_start").value,10),e=parseInt(document.getElementById("first_increment_decrement_end").value,10),i(t,e,function(e){return e+1})},m=function(){var e,t;return t=parseInt(document.getElementById("first_increment_decrement_start").value,10),e=parseInt(document.getElementById("first_increment_decrement_end").value,10),i(t,e,function(e){return e-1})},window.onload=function(){return 0,void 0===localStorage.ignoreNewline&&(localStorage.ignoreNewline=!1),_(""),f(),t(),window.addEventListener("resize",f),document.getElementById("maxinput").addEventListener("blur",c),document.addEventListener("keyup",B),document.addEventListener("keypress",B),document.getElementById("save_button").addEventListener("click",I),document.getElementById("read_button").addEventListener("click",u),document.getElementById("read_file").addEventListener("change",s),document.getElementById("clear_button").addEventListener("click",n),document.getElementById("save_name").addEventListener("keydown",g),document.getElementById("json_parse_button").addEventListener("click",y),document.getElementById("unique_list").addEventListener("click",v),document.getElementById("sort_list").addEventListener("click",p),document.getElementById("replace_show").addEventListener("click",o),document.getElementById("replace_button").addEventListener("click",E),document.getElementById("regex_pattern").addEventListener("keydown",g),document.getElementById("replacing_text").addEventListener("keydown",g),document.getElementById("ignore_newline").addEventListener("click",d),document.getElementById("clear_editor").addEventListener("click",r),document.getElementById("first_increment_button").addEventListener("click",l),document.getElementById("first_increment_apply_button").addEventListener("click",a),document.getElementById("first_decrement_apply_button").addEventListener("click",m)}}).call(this);