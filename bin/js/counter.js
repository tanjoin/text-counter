(function(){var e,t,n,d,l,o,i;String.prototype.lines=function(){return this.split(/\r*\n/)},String.prototype.lineCount=function(){return this.lines().length},o=function(e){var t,n,d;"string"!=typeof e&&(e=document.getElementById("editor").value),t=document.getElementById("inputlength"),d=document.createTextNode(e.length),t.replaceChild(d,t.lastChild),n=parseInt(document.getElementById("maxinput").value),i(e),e.length>n?t.style.color="red":t.style.color="white"},t=function(){var e;e=document.getElementById("editor").value,o(e)},i=function(e){var t,n,d;if(t=e.lineCount(),t!==d)return d=t,n=document.getElementById("linenav"),n.innerText="Line count: "+t},l=function(){var e,t,n,d;return n=document.getElementById("editor").value,e=new Blob([n],{type:"text/plain"}),d=window.URL.createObjectURL(e),t=document.createElement("a"),t.download="textfile.text",t.href=d,t.click()},d=function(){var e,t;if(document.getElementById("read_button").style.display="none",document.getElementById("clear_button").style.display="inline",e=document.getElementById("read_file").files[0])return t=new FileReader,t.onload=function(e){var t;return t=e.target.result,document.getElementById("editor").value=t,o(t)},t.readAsText(e,"UTF-8")},e=function(){return document.getElementById("clear_button").style.display="none",document.getElementById("read_button").style.display="inline",document.getElementById("read_file").value="",document.getElementById("editor").value="",o("")},n=function(){return document.getElementById("read_file").click()},window.onload=function(){var r;return r=0,i(""),document.getElementById("maxinput").addEventListener("blur",t),document.getElementById("editor").addEventListener("keyup",o),document.getElementById("save_button").addEventListener("click",l),document.getElementById("read_button").addEventListener("click",n),document.getElementById("read_file").addEventListener("change",d),document.getElementById("clear_button").addEventListener("click",e)}}).call(this);