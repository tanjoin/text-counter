(function(){var e,t,n,d,l,r,o,c,i,u,m,a,y;String.prototype.lines=function(){return this.split(/\r*\n/)},String.prototype.lineCount=function(){return this.lines().length},u=function(e){var t,n,d;"string"!=typeof e&&(e=document.getElementById("editor").value),t=document.getElementById("inputlength"),d=document.createTextNode(e.length),t.replaceChild(d,t.lastChild),n=parseInt(document.getElementById("maxinput").value),y(e),e.length>n?t.style.color="red":t.style.color="white"},n=function(){var e;e=document.getElementById("editor").value,u(e)},y=function(e){var t,n,d;if((t=e.lineCount())!==d)return d=t,n=document.getElementById("linenav"),n.innerText="Line count: "+t},i=function(){var e,t,n,d,l;return d=document.getElementById("editor").value,e=new Blob([d],{type:"text/plain"}),l=window.URL.createObjectURL(e),n=document.createElement("a"),t=document.getElementById("save_name"),t=t.innerText.replace("\n","").replace(/\s+$/g,""),null==t&&(t="textfile.txt"),n.download=t,n.href=l,n.click()},l=function(){var e,t;if(document.getElementById("read_button").style.display="none",document.getElementById("clear_button").style.display="inline",e=document.getElementById("read_file").files[0])return document.getElementById("save_name").innerText=e.name,t=new FileReader,t.onload=function(e){var t;return t=e.target.result,document.getElementById("editor").value=t,u(t)},t.readAsText(e,"UTF-8")},e=function(){return document.getElementById("clear_button").style.display="none",document.getElementById("read_button").style.display="inline",document.getElementById("read_file").value="",document.getElementById("editor").value="",u("")},d=function(){return document.getElementById("read_file").click()},r=function(e){if(13===e.keyCode)return e.preventDefault()},o=function(){var e,t,n;try{return n=document.getElementById("editor").value,t=JSON.parse(n),document.getElementById("editor").select(),n.includes("\n")?document.execCommand("insertText",!1,JSON.stringify(t)):document.execCommand("insertText",!1,JSON.stringify(t,null,2))}catch(t){return e=t,console.log(e)}},a=function(){var e,t,n;try{return n=document.getElementById("editor").value,t=Array.from(new Set(n.split("\n"))),document.getElementById("editor").select(),document.execCommand("insertText",!1,t.join("\n"))}catch(t){return e=t,console.log(e)}},m=function(){var e;try{return document.getElementById("editor").select(),document.execCommand("insertText",!1,document.getElementById("editor").value.split("\n").filter(function(e){return function(e){return e.length>0}}()).sort().join("\n").replace(/^\n/g,""))}catch(t){return e=t,console.log(e)}},t=function(){return"inline"===document.getElementById("btmfl").style.display?document.getElementById("btmfl").style.display="none":document.getElementById("btmfl").style.display="inline"},c=function(){var e,t,n,d,l;try{return t=document.getElementById("regex_pattern").innerText,l=document.getElementById("replacing_text").innerText,d=t.match(/\/(.*)\/(.*)/),n=d?new RegExp(d[1],d[2]):new RegExp(t),document.getElementById("editor").select(),document.execCommand("insertText",!1,document.getElementById("editor").value.replace(new RegExp(n),l))}catch(t){return e=t,console.log(e)}},window.onload=function(){return 0,y(""),document.getElementById("maxinput").addEventListener("blur",n),document.getElementById("editor").addEventListener("keyup",u),document.getElementById("save_button").addEventListener("click",i),document.getElementById("read_button").addEventListener("click",d),document.getElementById("read_file").addEventListener("change",l),document.getElementById("clear_button").addEventListener("click",e),document.getElementById("save_name").addEventListener("keydown",r),document.getElementById("json_parse_button").addEventListener("click",o),document.getElementById("unique_list").addEventListener("click",a),document.getElementById("sort_list").addEventListener("click",m),document.getElementById("replace_show").addEventListener("click",t),document.getElementById("replace_button").addEventListener("click",c),document.getElementById("regex_pattern").addEventListener("keydown",r),document.getElementById("replacing_text").addEventListener("keydown",r)}}).call(this);